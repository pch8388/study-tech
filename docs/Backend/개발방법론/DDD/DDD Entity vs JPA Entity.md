# 개요
두 개를 갑자기 비교하게 된 원인은 예전부터 궁금증이 있었지만, 클린 아키텍처를 읽어보다가 아래의 구문이 나와서이다
> 업무 규칙은 스키마, 쿼리 언어, 또는 데이터베이스와 관련된 나머지 세부사항에 대해 어떤 것도 알아서는 안된다.  
> 업무 규칙이 알아야 할 것은 데이터를 가져오고 저장할 때 사용할 수 있는 함수 집합이 있다는 사실이 전부다.  
> 이러한 함수 집합을 통해서 우리는 데이터베이스를 인터페이스 뒤로 숨길 수 있다.

여기서 업무 규칙을 표현하는 객체로 엔티티를 사용하게 되는 데, JPA를 사용하여 구현하면 JPA의 엔티티에 비즈니스 로직을 담는 형태로 많이 구현한다.  
하지만 JPA는 데이터베이스의 세부사항이 드러나는 클래스라고 생각한다.

# 논란
검색을 해보면 확실히 논란은 있는 것 같다.  
DDD 관점에서 JPA 에 도메인 로직이 들어가 있는 것은 데이터베이스의 세부사항에 의존하게 된다라는 의견과 그렇게까지 분리하는 것은 오버엔지니어링이다라는 의견이 대립하는 것으로 보인다.

[읽어볼만한 토론](https://twitter.com/bitboss/status/1005518596276187137)

[읽어볼만한 블로그](https://namocom.tistory.com/980)

위의 두 글은 JPA 에 도메인 로직이 들어가 있는 것에 대해 반대하는 입장이 좀 더 강하다고 볼 수 있는 데, 사실 JPA 에 로직이 들어가도 된다는 글은 JPA 를 소개하는 거의 대부분의 글에 들어있는 주장이라 따로 찾아볼 필요가 없다고 생각했다.

# JPA에 로직이 들어가지 않아야 된다고 생각하는 이유
문맥에 따라 엔티티가 다를수 있다 => 바운디드 컨텍스트에서 다른 경계에 있는 엔티티를 사용할 때 같은 객체를 사용하여야 하나??  
ex) user 가 orders 에서는 customer 일 수 있다
=> user 엔티티로 억지로 사용하면 유비쿼터스 랭귀지가 무너질 수도..??

jpa 에는 기술적 제약이 포함되어야 한다  
ex) id 어노테이션, default constructor 등
=> 도메인 객체는 순수하게 유지되어야 한다

# 결론
DDD 의 관점에서는 두 개를 분리하는 것이 더 맞다는 생각이 든다.  
하지만 아키텍처는 항상 변하는 것이고, 어떤 것이 항상 옳다라고 말할 수 없다.  
또한, 특정 방법론을 쓴다고 정해진 법칙대로만 해야한다는 생각을 하면 안된다고 생각한다.(이러한 어조로 에릭에반스도 책에서 자주 언급한다)  
따라서, JPA에 비즈니스 로직이 들어갈 수는 있지만 팀원들과의 합의를 통해 순수한 도메인 객체를 만들도록 노력하는 것이 이상적이라 생각한다.

공부를 하다보면 생각이 바뀔 수 있는 데, 바뀐다면 내용 업데이트를 해야함