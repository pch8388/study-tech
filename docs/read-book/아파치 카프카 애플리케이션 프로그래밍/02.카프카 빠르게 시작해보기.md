# AWS 인스턴스 생성
OS 이미지 선택
<img width="761" alt="스크린샷 2022-06-13 오전 11 24 24" src="https://user-images.githubusercontent.com/17218212/173269756-4130d10d-49e5-47d6-8fc2-add1f56496dc.png">

인스턴스 유형 선택
<img width="750" alt="스크린샷 2022-06-13 오전 11 24 31" src="https://user-images.githubusercontent.com/17218212/173269775-1dbad3c0-f760-4204-bb19-6708be82cf85.png">

키페어 생성
<img width="729" alt="스크린샷 2022-06-13 오전 11 24 36" src="https://user-images.githubusercontent.com/17218212/173269778-6da6db11-e0f8-4e6d-86d5-c48dcf0b62da.png">

인바운드 규칙 설정
- 카프카 브로커 : 9092
- 주키퍼 : 2181
<img width="1409" alt="스크린샷 2022-06-13 오전 11 34 09" src="https://user-images.githubusercontent.com/17218212/173269780-61721ebe-476e-4395-9c7f-8dc7412f6c6c.png">

## 인스턴스에 접속
### ssh 명령어로 접속
생성한 키페어는 read 권한만 있어야 하기 때문에 권한을 변경
```bash
chmod 400 kafka-study.pem
```

ssh 접속
```bash
ssh -i kafka-study.pem <유저id>@<퍼블릭IP>
```

### java 설치
카프카 브로커 실행을 위해 java 설치 필요
```bash
sudo yum install -y java-1.8.0-openjdk-devel.x86_64

# 제대로 설치되었는지 버전 확인
java -version 
```

### 주키퍼, 카프카 브로커 실행
카프카 [다운로드](https://kafka.apache.org/downloads) 링크에서 다운로드 링크를 복사해서 wget 명령어로 다운받는다
```bash
wget https://archive.apache.org/dist/kafka/2.5.0/kafka_2.12-2.5.0.tgz

# 압축 해제
tar xvf kafka_2.12-2.5.0.tgz

cd kafka_2.12-2.5.0/
```
