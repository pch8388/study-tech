# 메시지와 EDA, 마이크로서비스의 사례
- 데이터베이스 액세스 비용을 줄이기 위해 read 캐싱 사용
  - 캐싱 솔루션의 핵심 요구사항
    - 캐싱된 데이터는 모든 인스턴스에 일관성이 있어야 함
    - 컨테이너 메모리에 데이터를 캐싱해서는 안됨
    - 업데이트나 삭제 연산으로 변경될 때 캐싱 데이터도 변경해야 함
  - 요구사항을 구현하는 두 가지 접근법
    - 동기식 요청-응답 모델 사용
    - 비동기 이벤트(메시지) 발송

## 동기식 요청-응답 모델
- 캐싱 대상이 되는 서비스가 상태가 변경되면 캐싱을 사용하는 서비스에 알려서 캐싱 데이터를 변경시킴
- 단점
  - 서비스간 강결합
  - 서비스간의 관계가 쉽게 깨질 수 있다
  - 새로운 서비스를 추가하기 힘들다

## 메시징을 사용해 서비스간 상태 변화 전달
- 서비스 사이에 큐를 두고 상태가 변할때마다 큐를 통해 메시지를 발행
- 장점
  - 느슨한 결합
  - 내구성
  - 확장성
  - 유연성

