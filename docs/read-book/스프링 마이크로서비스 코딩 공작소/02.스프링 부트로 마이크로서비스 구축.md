성공적인 마이크로 서비스의 토대는 세 역할의 관점에서 시작
- 아키텍트
- 개발자
- 데브옵스

# 아키텍트
1. 비즈니스 문제의 분해
2. 서비스 세분화의 확정
3. 서비스 인터페이스 정의

## 비즈니스 문제의 분해
1. 비즈니스 문제를 기술하고 그 문제를 기술하는 데 사용된 명사에 주목
2. 동사에 주목 : 행위를 부각하고 문제가 되는 영역의 윤곽을 자연스럽게 드러냄
3. 데이터 응집성 찾기 : 마이크로 서비스는 자기 데이터를 완전히 소유해야 함

## 서비스 세분화의 확정
1. 마이크로 서비스를 크게 나누고 다시 작게 리팩토링
2. 서비스 간 교류방식에 집중
3. 문제 영역에 대한 이해가 깊어짐에 따라 서비스 책임도 계속 변경

---
**나쁜 마이크로 서비스 징후**

너무 큰 경우
- 책임이 너무 많은 서비스
- 많은 테이블의 데이터를 관리하는 서비스
- 과다한 테스트 케이스

너무 작은 경우
- 한 문제 영역 부분에 속한 마이크로서비스가 토끼처럼 번식
- 마이크로서비스가 지나치게 상호 의존적
- 마이크로서비스가 단순 CRUD 집합이 됨
---

## 서비스 인터페이스
1. REST 철학은 수용하라
2. 요청과 응답에 JSON 사용하라
3. HTTP 상태 코드로 결과를 전달하라

# 개발자
엔드포인트 이름이 중요
1. 서비스가 제공하는 리소스를 알 수 있는 명확한 URL 사용
2. 리소스 간 관계를 알 수 있는 URL 사용
3. URL 버전 체계를 일찍 세워라

# 데브옵스
## 네가지 원칙
1. 단일 소프트웨어 산출물을 사용해 여러 서비스 인스턴스를 시작하거나 제거할 수 있도록 자체 완비형(self-contained)이며 독립적으로 배포 가능(independently deployable) 해야 함
2. 마이크로서비스는 구성 가능(configurable) 해야 함
3. 마이크로서비스 인스턴스는 클라이언트가 위치를 알지 못하도록 투명해야(transparent) 함
4. 마이크로서비스는 자신의 상태(health)를 전달해야 함

### 네가지 원칙은 운영상의 lifecycle 을 가짐
- 서비스 어셈블리(service assembly)
- 서비스 부트스트래핑(service bootstrapping)
- 서비스 등록 및 디스커버리(service registration/discovery)
- 서비스 모니터링(service monitoring)